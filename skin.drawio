<mxfile host="www.draw.io" modified="2020-01-07T07:21:41.134Z" agent="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36" etag="Y_KzQSYdl6v87oWMPw6Z" version="12.4.9" type="github">
  <diagram id="NS4v9UxkQ43djZAID0MC" name="Page-1">
    <mxGraphModel dx="1860" dy="748" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1000" pageHeight="700" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="rSlgogMBOAzCxVRS1Gob-1" target="rSlgogMBOAzCxVRS1Gob-2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-1" value="收集View" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="rSlgogMBOAzCxVRS1Gob-4" target="rSlgogMBOAzCxVRS1Gob-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="860" y="90" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-2" value="标记" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-7" value="更新" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-4" value="1.属性&lt;br&gt;2.资源" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="740" y="40" width="80" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="rSlgogMBOAzCxVRS1Gob-2" target="rSlgogMBOAzCxVRS1Gob-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="90" as="targetPoint"/>
            <mxPoint x="650" y="90" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-9" value="收集" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="230" y="180" width="330" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-16" value="1. 从DecorView向下递归&lt;br&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;2. 代码添加收集&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-9">
          <mxGeometry x="90" y="84" width="150" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-19" value="&amp;nbsp;LayoutInflater的Factory创建视图时收集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-9">
          <mxGeometry x="40" y="260" width="230" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-12" value="" style="endArrow=none;dashed=1;html=1;" edge="1" parent="rSlgogMBOAzCxVRS1Gob-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-230" y="185" as="sourcePoint"/>
            <mxPoint x="1770" y="185" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-10" value="标记" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="560" y="180" width="330" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-20" value="拦截创建视图的过程，将所有的组件替换成可换肤组件，&lt;br&gt;组件内，通过创建时的attr获得资源id" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-10">
          <mxGeometry x="10" y="260" width="320" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-11" value="更新" style="swimlane;" vertex="1" parent="1">
          <mxGeometry x="890" y="180" width="330" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-21" value="根据资源id，找到资源的名字，更新所有属性" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-11">
          <mxGeometry x="40" y="260" width="250" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-13" value="&lt;font style=&quot;font-size: 19px&quot;&gt;TAG方式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="271" width="90" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-15" value="&lt;font style=&quot;font-size: 19px&quot;&gt;无侵入方式&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="440" width="110" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-17" value="1. 在XML中做tag标记&lt;br&gt;2. 从代码中tag标记" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="642" y="267" width="130" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-18" value="从将收集的View根据和标记的资源和属性更新视图" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="271" width="280" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-22" value="优点" style="swimlane;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1290" y="180" width="330" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-26" value="&lt;font style=&quot;font-size: 14px&quot;&gt;1. 代码中创建的视图&lt;font color=&quot;#ff3333&quot;&gt;可以&lt;/font&gt;支持换肤&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;text-align: left ; font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;2. 代码中设置属性&lt;font color=&quot;#ff3333&quot;&gt;较容易&lt;/font&gt;支持换肤&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;3. 实现简单，原理简单&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-22">
          <mxGeometry x="50" y="77" width="230" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-28" value="1. 操作简便，基本无侵入，使用成本低" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-22">
          <mxGeometry x="55" y="260" width="220" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-24" value="缺点" style="swimlane;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1620" y="180" width="340" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-27" value="&lt;font style=&quot;font-size: 14px&quot;&gt;1. 需要逐个视图标记，繁琐&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-24">
          <mxGeometry x="70" y="91" width="190" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-29" value="1. 原理相对复杂&lt;br&gt;&lt;div&gt;&lt;span&gt;2. 代码中创建的视图和&lt;/span&gt;代码中更新&lt;span&gt;属性可行性较低&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-24">
          <mxGeometry x="45" y="250" width="280" height="30" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
