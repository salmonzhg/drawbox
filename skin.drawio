<mxfile host="www.draw.io" modified="2020-02-11T09:59:41.560Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36" etag="09TcDlNFIjnpowopYNqq" version="12.6.7" type="github">
  <diagram id="NS4v9UxkQ43djZAID0MC" name="Page-1">
    <mxGraphModel dx="1718" dy="936" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1000" pageHeight="700" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="rSlgogMBOAzCxVRS1Gob-1" target="rSlgogMBOAzCxVRS1Gob-2" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-1" value="收集View" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="rSlgogMBOAzCxVRS1Gob-4" target="rSlgogMBOAzCxVRS1Gob-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="860" y="90" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-2" value="标记" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-7" value="更新" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="60" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-4" value="1.属性&lt;br&gt;2.资源" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" parent="1" vertex="1">
          <mxGeometry x="740" y="40" width="80" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="rSlgogMBOAzCxVRS1Gob-2" target="rSlgogMBOAzCxVRS1Gob-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="90" as="targetPoint"/>
            <mxPoint x="650" y="90" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-9" value="收集" style="swimlane;" parent="1" vertex="1">
          <mxGeometry x="230" y="180" width="330" height="540" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-16" value="从DecorView向下递归&lt;b&gt;遍历视图树&lt;/b&gt;收集视图" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-9" vertex="1">
          <mxGeometry x="45" y="89" width="240" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-19" value="&amp;nbsp;&lt;b&gt;LayoutInflaterFactory&lt;/b&gt;在根据XMl创建视图时收集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-9" vertex="1">
          <mxGeometry x="15" y="260" width="280" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="3TyCNIGmh-dCrPs72pGl-4" value="&lt;b&gt;手动&lt;/b&gt;将视图实例收集，适用于动态添加视图" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-9">
          <mxGeometry x="45" y="450" width="240" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-10" value="获得属性和资源名" style="swimlane;" parent="1" vertex="1">
          <mxGeometry x="560" y="180" width="390" height="540" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-20" value="&lt;span style=&quot;text-align: center&quot;&gt;LayoutInflaterFactory&lt;/span&gt;拦截创建视图的过程，通过创建时的&lt;b&gt;attr&lt;/b&gt;获得&lt;br&gt;属性和资源名" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-10" vertex="1">
          <mxGeometry x="12.5" y="260" width="360" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-17" value="在XML中或代码中&lt;b&gt;人工&lt;/b&gt;的做tag标记，需要用时再取出来，如：&lt;br&gt;&lt;div&gt;&amp;lt;TextView&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; android:textColor=&quot;@color/color_title&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; android:background=&quot;@drawable/bg_title&quot;&lt;br&gt;&lt;/div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;b&gt;android:tag=&quot;skin:textColor:color_title|background:bg_title&lt;/b&gt;&quot;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-10" vertex="1">
          <mxGeometry x="7.5" y="55" width="370" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="3TyCNIGmh-dCrPs72pGl-6" value="LayoutInflaterFactory拦截创建视图的过程，&lt;b&gt;替换视图为支持&lt;br&gt;换肤的视图&lt;/b&gt;，如TextView替换为SkinChangableTextView，在&lt;br&gt;支持换肤的视图内部，&lt;b&gt;替换所有&lt;/b&gt;支持换肤属性对应的资源" style="text;html=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-10">
          <mxGeometry x="30" y="430" width="330" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-11" value="维护对应关系方式" style="swimlane;" parent="1" vertex="1">
          <mxGeometry x="950" y="180" width="330" height="540" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-21" value="维护&lt;b&gt;属性和设置方法&lt;/b&gt;的对应关系" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-11" vertex="1">
          <mxGeometry x="75" y="260" width="180" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-18" value="维护&lt;b&gt;属性和设置方法&lt;/b&gt;的对应关系" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-11" vertex="1">
          <mxGeometry x="75" y="80" width="180" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="3TyCNIGmh-dCrPs72pGl-10" value="不需要维护具体属性与设置方法的关系，但需要&lt;br&gt;维护&lt;b&gt;视图与替换视图&lt;/b&gt;的映射" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="rSlgogMBOAzCxVRS1Gob-11">
          <mxGeometry x="30" y="438" width="270" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-22" value="优点" style="swimlane;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1334.5" y="180" width="330" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-26" value="&lt;font style=&quot;font-size: 14px&quot;&gt;1. 代码中创建的视图&lt;font color=&quot;#ff3333&quot;&gt;可以&lt;/font&gt;支持换肤&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;text-align: left ; font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;2. 代码中设置属性&lt;font color=&quot;#ff3333&quot;&gt;较容易&lt;/font&gt;支持换肤&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;3. 实现简单，原理简单&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-22" vertex="1">
          <mxGeometry x="50" y="77" width="230" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-28" value="1. 操作简便，基本无侵入，使用成本低" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-22" vertex="1">
          <mxGeometry x="55" y="260" width="220" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-24" value="缺点" style="swimlane;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1620" y="180" width="340" height="370" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-27" value="&lt;font style=&quot;font-size: 14px&quot;&gt;1. 需要逐个视图标记，繁琐&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-24" vertex="1">
          <mxGeometry x="70" y="91" width="190" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="rSlgogMBOAzCxVRS1Gob-29" value="1. 原理相对复杂&lt;br&gt;&lt;div&gt;&lt;span&gt;2. 代码中创建的视图和&lt;/span&gt;代码中更新&lt;span&gt;属性可行性较低&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="rSlgogMBOAzCxVRS1Gob-24" vertex="1">
          <mxGeometry x="45" y="250" width="280" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="3TyCNIGmh-dCrPs72pGl-8" value="" style="endArrow=none;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="370" as="sourcePoint"/>
            <mxPoint x="1280" y="370" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="3TyCNIGmh-dCrPs72pGl-9" value="" style="endArrow=none;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="550" as="sourcePoint"/>
            <mxPoint x="1280" y="550" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
